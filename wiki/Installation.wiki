#summary How to install ESOS to a USB flash drive.

=== Build Prerequisites ===
Since ESOS makes use of some proprietary software, currently the only method of getting/installing it is to grab the source and compile it on your computer. ESOS is still in the very early stages of development/testing so the only method of obtaining the source is via SVN; there are no "release" tarballs available yet.

Here is a list of the build host system requirements:
  * A recent release, of a modern x86-64 Linux distribution (64-bit Linux is required since ESOS uses only 64-bit kernel/programs).
  * All of the typical software development packages (eg, GCC, GNU Make, Autoconf, Libtool, etc.) are required.
  * A USB flash drive that is at least 4 GB -- not really required for building, but needed to install the ESOS "distribution" on to (below).
  * Subversion is required to pull the source down to your machine.
  * The configure script will check for all of the required tools/utilities that are used directly by the ESOS Makefile.
  * Other tools, libraries, etc. that are required by the packages/projects that ESOS uses should be caught by those project's configure scripts.
  * Some free disk space for building, probably around 10 GB to be safe.
  * A lot of time! Unfortunately, several larger projects (GCC, Linux kernel, glibc, etc.) are required that take quite a while to compile.
  * Internet connectivity; packages are fetched from the dist. file repository.

Using _Red Hat Enterprise Linux 6.2 Server x86_64_ as your build host:
  * Standard/basic install, defaults for everything.
  * yum groupinstall "Development tools"
  * yum install lsscsi

Using _Fedora 16 Desktop Edition x86_64_ as your build host:
  * Standard/basic install, defaults for everything.
  * yum groupinstall "Development tools"
  * yum install wget lsscsi

Using _Ubuntu 11.10 x86_64_ as your build host:
  * Standard/basic install, defaults for everything.
  * apt-get install build-essential
  * apt-get install subversion autoconf rpm2cpio gawk flex bison gcc-multilib unzip libtinfo-dev libtool lsscsi

<br>

=== Building ESOS ===
Grab the latest revision from trunk:
{{{
svn checkout http://enterprise-storage-os.googlecode.com/svn/trunk esos
cd esos
}}}

Generate the configure script:
{{{
autoconf
}}}

After you have generated the configure script above, you then need to run the configure script. There are several options you can set; use `./configure --help` to see all of them.

If you would like to build ESOS with everything including any proprietary tools (eg, MegaCLI) which may require manually fetching the packages, use this:
{{{
./configure
}}}

If you would like to build ESOS with only open source projects (no RAID controller CLI tools) you can run this configure:
{{{
./configure --disable-megaraid_tool --disable-aacraid_tool
}}}

Finally, run make, which will fetch, extract, and build everything:
{{{
make
}}}

If you found you needed to install any additional tools, libraries, etc. that weren't caught by any of the configure scripts, please [http://groups.google.com/group/esos-users let us know]. The make recipe will download all required distribution files from the ESOS project home, except for a few packages that may need to be downloaded manually due to licensing restrictions (depending on your configure options).

<br>

=== Installing ESOS ===
To install ESOS, you need a USB flash drive that is at least 4 GB in size. After plugging in your drive to the build host, one of the easiest ways to find the drive's device node is to use the lsscsi command. Here is an example of what that looks like:
{{{
[root@localhost ~]# lsscsi 
[0:0:0:0]    disk    ATA      ST9160412AS      D005  /dev/sda 
[1:0:0:0]    cd/dvd  TSSTcorp DVD+-RW TS-L633C DW50  /dev/sr0 
[8:0:0:0]    disk    Kingston DataTraveler G3  1.00  /dev/sdb 
}}}

In the example above, we clearly recognize "Kingston DataTraveler G3" (hopefully) as our USB flash drive, and we can see the device node is "/dev/sdb" (far right column).

Now that we know the device node of our USB device, we can install ESOS on it:
{{{
sudo make install
}}}

You must be root to install ESOS; you will be prompted for the device node and asked for confirmation as the make target will completely wipe/destroy any data on the given device.

<br>

=== Next Steps ===
Once you have successfully built and installed the ESOS image to a USB flash device, take the flash drive and plug it into your storage server. Then reboot the storage server and set USB devices to first (only) in the boot order. Then proceed to the [Initial_Configuration] page.